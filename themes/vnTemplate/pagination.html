<div class="pagination">
  ${currentPage > 1 ? `
    <a href="${currentPage === 2 ? '' : 'page-' + (currentPage - 1) + '/'}" class="prev">‹ Prev</a>
  ` : ''}

  <!-- Always show first page if not in current range -->
  ${currentPage > 4 ? `
    <a href="">1</a>
    ${currentPage > 5 ? `<span class="ellipsis">…</span>` : ''}
  ` : ''}

  <!-- Dynamic page number generation -->
  ${(() => {
    const pages = [];
    const startPage = Math.max(1, Math.min(
      currentPage - 3,
      totalPages - 6
    ));
    const endPage = Math.min(totalPages, startPage + 6);
    
    for (let page = startPage; page <= endPage; page++) {
      pages.push(page);
    }
    return pages;
  })().map(page => `
    ${page === currentPage ? `
      <span class="current">${page}</span>
    ` : `
      <a href="${page === 1 ? '' : 'page-' + page + '/'}">${page}</a>
    `}
  `).join('')}

  <!-- Always show last page if not in current range -->
  ${currentPage < totalPages - 3 ? `
    ${currentPage < totalPages - 4 ? `<span class="ellipsis">…</span>` : ''}
    <a href="page-${totalPages}/">${totalPages}</a>
  ` : ''}

  ${currentPage < totalPages ? `
    <a href="page-${currentPage + 1}/" class="next">Next ›</a>
  ` : ''}
</div>

<style>
  .pagination {
    display: flex;
    gap: 5px;
    margin: 20px 0;
    justify-content: center;
    flex-wrap: wrap;
  }
  .pagination a, .pagination span {
    padding: 5px 10px;
    border: 1px solid #ddd;
    text-decoration: none;
    display: inline-block;
    min-width: 30px;
    text-align: center;
  }
  .pagination .current {
    background: #333;
    color: white;
    border-color: #333;
  }
  .pagination a:hover {
    background: #f5f5f5;
  }
  .pagination .ellipsis {
    border: none;
    pointer-events: none;
  }
</style>
